// Code generated by templ - DO NOT EDIT.

// templ: version: v0.3.977
package templates

//lint:file-ignore SA4006 This context is only used if a nested component is present.

import "github.com/a-h/templ"
import templruntime "github.com/a-h/templ/runtime"

func Layout(title string, currentPath string) templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var1 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var1 == nil {
			templ_7745c5c3_Var1 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 1, "<!doctype html><html lang=\"en\" class=\"dark uk-theme-zinc\"><head><meta charset=\"UTF-8\"><meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\"><title>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		var templ_7745c5c3_Var2 string
		templ_7745c5c3_Var2, templ_7745c5c3_Err = templ.JoinStringErrs(title)
		if templ_7745c5c3_Err != nil {
			return templ.Error{Err: templ_7745c5c3_Err, FileName: `internal/web/templates/layout.templ`, Line: 9, Col: 17}
		}
		_, templ_7745c5c3_Err = templ_7745c5c3_Buffer.WriteString(templ.EscapeString(templ_7745c5c3_Var2))
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 2, " — smoovtask</title><link rel=\"stylesheet\" href=\"/static/frankenui.min.css\"><link rel=\"stylesheet\" href=\"/static/utilities.min.css\"><script src=\"/static/frankenui.min.js\"></script><script src=\"/static/htmx.min.js\"></script><script src=\"/static/htmx-sse.min.js\"></script><style>\n\t\t\t\t@font-face { font-family: 'Inter'; src: url('/static/Inter.woff2') format('woff2'); font-weight: 400 700; font-style: normal; font-display: swap; }\n\t\t\t\t@font-face { font-family: 'Maple Mono NF'; src: url('/static/MapleMonoNL-NF-Regular.ttf') format('truetype'); font-weight: 400; font-style: normal; font-display: swap; }\n\t\t\t\t@font-face { font-family: 'Maple Mono NF'; src: url('/static/MapleMonoNL-NF-Bold.ttf') format('truetype'); font-weight: 700; font-style: normal; font-display: swap; }\n\t\t\t\tbody { font-family: 'Inter', sans-serif; }\n\t\t\t\tcode, pre, kbd, samp, .uk-text-mono { font-family: 'Maple Mono NF', monospace; }\n\t\t\t\t.st-board { display: flex; gap: 1rem; overflow-x: auto; padding-bottom: 1rem; height: 100%; }\n\t\t\t\t.st-board-wrapper { height: 100%; }\n\t\t\t\t.st-column { min-width: 200px; flex: 1; overflow-y: auto; }\n\t\t\t\t.st-column-header { padding: 0.5rem 0.75rem; font-weight: 600; font-size: 0.85rem; text-transform: uppercase; letter-spacing: 0.05em; border-bottom: 2px solid; margin-bottom: 0.5rem; position: sticky; top: 0; z-index: 1; background: hsl(var(--background)); }\n\t\t\t\t.st-ticket-card { display: block; margin-bottom: 0.5rem; border: 1px solid hsl(var(--border)); background: hsl(var(--card)); cursor: pointer; transition: border-color 0.15s; text-decoration: none; color: inherit; }\n\t\t\t\t.st-ticket-card:hover { border-color: hsl(var(--primary)); }\n\t\t\t\t.st-card-title { font-weight: 500; font-size: 0.9rem; margin-bottom: 0.25rem; overflow-wrap: break-word; }\n\t\t\t\t.st-priority-p0 { background: hsl(var(--destructive)); color: hsl(var(--destructive-foreground)); }\n\t\t\t\t.st-priority-p1 { background: hsl(var(--destructive) / 0.82); color: hsl(var(--destructive-foreground)); }\n\t\t\t\t.st-priority-p2 { background: hsl(var(--warning)); color: hsl(var(--warning-foreground)); }\n\t\t\t\t.st-priority-p3 { background: hsl(var(--primary)); color: hsl(var(--primary-foreground)); }\n\t\t\t\t.st-priority-p4 { background: hsl(var(--secondary)); color: hsl(var(--secondary-foreground)); }\n\t\t\t\t.st-priority-p5 { background: hsl(var(--muted)); color: hsl(var(--muted-foreground)); }\n\t\t\t\t.st-status-badge-done { background: hsl(var(--primary)); color: hsl(var(--primary-foreground)); }\n\t\t\t\t.st-status-badge-cancelled { background: hsl(var(--secondary)); color: hsl(var(--secondary-foreground)); }\n\t\t\t\t.st-source-badge-image { height: 1.5rem; width: auto; image-rendering: pixelated; }\n\t\t\t\t.st-source-glyph { font-family: 'Maple Mono NF', monospace; }\n\t\t\t\t.st-assignee-wrap { margin-left: auto; display: inline-flex; align-items: center; gap: 0.25rem; }\n\t\t\t\t.st-assignee-pill { display: inline-block; padding: 0.1rem 0.4rem; border-radius: 9999px; font-family: 'Maple Mono NF', monospace; font-size: 0.65rem; font-weight: 600; background: var(--st-assignee-bg, hsl(var(--primary))); color: hsl(var(--foreground)); }\n\t\t\t\t.st-assignee-pill-md { font-size: 0.8rem; }\n\t\t\t\t.st-status-backlog { border-color: hsl(var(--muted-foreground)); }\n\t\t\t\t.st-status-open { border-color: hsl(var(--primary)); }\n\t\t\t\t.st-status-in-progress { border-color: hsl(var(--warning)); }\n\t\t\t\t.st-status-review { border-color: hsl(var(--secondary)); }\n\t\t\t\t.st-status-rework { border-color: hsl(var(--destructive) / 0.82); }\n\t\t\t\t.st-status-blocked { border-color: hsl(var(--destructive)); }\n\t\t\t\t.st-status-done { border-color: hsl(var(--primary)); }\n\t\t\t\t.st-status-cancelled { border-color: hsl(var(--muted)); }\n\t\t\t\t.st-event-row { padding: 0.5rem 0; border-bottom: 1px solid hsl(var(--border)); font-size: 0.85rem; }\n\t\t\t\t.st-ticket-body { line-height: 1.6; overflow-wrap: break-word; word-break: break-word; margin-top: 1.5rem; }\n\t\t\t\t.st-ticket-body h2 { font-size: 1.1rem; margin-top: 2rem; margin-bottom: 0.25rem; font-weight: 600; }\n\t\t\t\t.st-ticket-body h2:first-child { margin-top: 0; }\n\t\t\t\t.st-ticket-body h2.st-event-created { color: hsl(var(--primary)); }\n\t\t\t\t.st-ticket-body h2.st-event-in-progress { color: hsl(var(--warning)); }\n\t\t\t\t.st-ticket-body h2.st-event-note { color: hsl(var(--secondary-foreground)); }\n\t\t\t\t.st-ticket-body h2.st-event-review { color: hsl(var(--secondary-foreground)); }\n\t\t\t\t.st-ticket-body h2.st-event-done { color: hsl(var(--primary)); }\n\t\t\t\t.st-ticket-body h2.st-event-rework { color: hsl(var(--destructive) / 0.82); }\n\t\t\t\t.st-ticket-body h2.st-event-blocked { color: hsl(var(--destructive)); }\n\t\t\t\t.st-ticket-body h2.st-event-backlog { color: hsl(var(--muted-foreground)); }\n\t\t\t\t.st-ticket-body h2.st-event-open { color: hsl(var(--primary)); }\n\t\t\t\t.st-ticket-body h3 { font-size: 1.05rem; margin-top: 1.25rem; margin-bottom: 0.5rem; font-weight: 600; }\n\t\t\t\t.st-ticket-body p { margin-bottom: 0.75rem; }\n\t\t\t\t.st-ticket-body strong { opacity: 0.5; font-weight: 500; }\n\t\t\t\t.st-ticket-body pre { background: hsl(var(--card)); padding: 1rem; border-radius: 0.375rem; overflow-x: auto; margin-bottom: 1rem; max-width: 100%; }\n\t\t\t\t.st-ticket-body :not(pre) > code { font-size: 0.85em; background: hsl(var(--card)); padding: 0.15em 0.4em; border-radius: 0.25rem; }\n\t\t\t\t.st-ticket-body pre code { font-size: 0.85em; background: none; padding: 0; }\n\t\t\t\t.st-ticket-body ul, .st-ticket-body ol { margin-bottom: 0.75rem; padding-left: 1.5rem; }\n\t\t\t\t.st-copy-ticket-id { border: 1px solid hsl(var(--border)); background: transparent; font-size: 0.8rem; cursor: pointer; user-select: none; }\n\t\t\t\t.st-ticket-dep-link { font-size: 0.8rem; }\n\t\t\t\t.st-column-collapsed .st-ticket-card:nth-child(n+7) { display: none; }\n\t\t\t\t.st-toggle-done { display: block; width: 100%; padding: 0.5rem; margin-top: 0.25rem; background: transparent; border: 1px dashed hsl(var(--border)); border-radius: 0.375rem; color: hsl(var(--foreground)); opacity: 0.6; cursor: pointer; font-size: 0.8rem; }\n\t\t\t\t.st-toggle-done:hover { opacity: 1; }\n\t\t\t\t.st-board-wrapper { position: relative; }\n\t\t\t\t.st-board-wrapper::before, .st-board-wrapper::after { content: ''; position: absolute; top: 0; bottom: 0; width: 24px; pointer-events: none; z-index: 1; opacity: 0; transition: opacity 0.2s; }\n\t\t\t\t.st-board-wrapper::before { left: 0; background: linear-gradient(to right, hsl(var(--background)), transparent); }\n\t\t\t\t.st-board-wrapper::after { right: 0; background: linear-gradient(to left, hsl(var(--background)), transparent); }\n\t\t\t\t.st-board-wrapper.scroll-left::before { opacity: 1; }\n\t\t\t\t.st-board-wrapper.scroll-right::after { opacity: 1; }\n\t\t\t\t.st-modal-ticket { width: 66vw; max-width: 1200px; }\n\t\t\t\t.st-dep-graph { position: relative; overflow-x: auto; padding-bottom: 1rem; }\n\t\t\t\t.st-dep-grid { display: flex; gap: 2rem; align-items: flex-start; min-width: min-content; }\n\t\t\t\t.st-dep-layer { display: flex; flex-direction: column; gap: 0.75rem; min-width: 14rem; }\n\t\t\t\t.st-dep-node { padding: 0.75rem; border-radius: 0.375rem; border: 1px solid hsl(var(--border)); background: hsl(var(--card)); cursor: pointer; transition: border-color 0.15s, opacity 0.15s; text-decoration: none; color: inherit; display: block; }\n\t\t\t\t.st-dep-node:hover { border-color: hsl(var(--primary)); }\n\t\t\t\t.st-dep-node-title { font-weight: 500; font-size: 0.9rem; margin-bottom: 0.25rem; overflow-wrap: break-word; }\n\t\t\t\t.st-dep-node-meta { font-size: 0.75rem; opacity: 0.7; display: flex; gap: 0.5rem; align-items: center; }\n\t\t\t\t.st-dep-edges { position: absolute; top: 0; left: 0; pointer-events: none; }\n\t\t\t\t.st-dep-edge { stroke: hsl(var(--border)); stroke-width: 2; fill: none; transition: stroke 0.15s, stroke-width 0.15s; }\n\t\t\t\t.st-dep-edge.highlighted { stroke: hsl(var(--primary)); stroke-width: 2.5; }\n\t\t\t\t.st-dep-graph.dimmed .st-dep-node { opacity: 0.3; }\n\t\t\t\t.st-dep-graph.dimmed .st-dep-node.highlighted { opacity: 1; }\n\t\t\t\t@keyframes st-pulse { 0% { background: hsl(var(--primary)); box-shadow: 0 0 4px hsl(var(--primary)); } 100% { background: hsl(var(--primary) / 0.22); box-shadow: none; } }\n\t\t\t\t.st-session-dot { width: 6px; height: 6px; border-radius: 50%; background: hsl(var(--primary) / 0.22); flex-shrink: 0; }\n\t\t\t\t.st-session-dot.st-pulse { animation: st-pulse 0.6s ease-out; }\n\t\t\t\t@media (max-width: 640px) {\n\t\t\t\t\t.st-event-row { gap: 0.35rem; }\n\t\t\t\t}\n\t\t\t</style></head><body hx-ext=\"sse\" sse-connect=\"/events\" class=\"h-screen flex flex-col overflow-hidden bg-background text-foreground\"><nav class=\"flex items-center justify-between px-4 shrink-0\"><div class=\"flex items-center min-w-0\"><a class=\"uk-logo font-bold flex items-center gap-2 text-xl\" href=\"/\"><img src=\"/static/logo.png\" alt=\"smoovtask\" class=\"h-10 w-10 rounded-full object-cover object-center\"> <span class=\"uk-text-mono\">smoovtask</span></a><ul class=\"uk-subnav ml-4\"><li")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		if currentPath == "/" {
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 3, " class=\"uk-active\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 4, "><a hx-get=\"/partials/board\" hx-target=\"#content\" hx-push-url=\"/\" href=\"/\">Board</a></li><li")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		if currentPath == "/list" {
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 5, " class=\"uk-active\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 6, "><a hx-get=\"/partials/list\" hx-target=\"#content\" hx-push-url=\"/list\" href=\"/list\">List</a></li><li")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		if currentPath == "/critical-path" {
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 7, " class=\"uk-active\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 8, "><a hx-get=\"/partials/critical-path\" hx-target=\"#content\" hx-push-url=\"/critical-path\" href=\"/critical-path\">Critical Path</a></li><li")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		if currentPath == "/activity" {
			templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 9, " class=\"uk-active\"")
			if templ_7745c5c3_Err != nil {
				return templ_7745c5c3_Err
			}
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 10, "><a hx-get=\"/partials/activity\" hx-target=\"#content\" hx-push-url=\"/activity\" href=\"/activity\">Activity</a></li></ul></div><div class=\"flex items-center\"><a class=\"uk-btn uk-btn-primary uk-btn-sm\" href=\"/new\" hx-get=\"/partials/form/new\" hx-target=\"#ticket-modal-body\" hx-push-url=\"false\">New Ticket</a></div></nav><main class=\"uk-container uk-container-expand p-4 sm:p-6 flex-1 overflow-y-auto min-h-0\"><div id=\"content\">")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templ_7745c5c3_Var1.Render(ctx, templ_7745c5c3_Buffer)
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 11, "</div></main><div id=\"ticket-modal\" data-uk-modal><div class=\"uk-modal-dialog st-modal-ticket\"><button class=\"uk-modal-close absolute right-4 top-4 z-10\" type=\"button\" data-uk-close></button><div class=\"uk-modal-header\" id=\"ticket-modal-header\"></div><div class=\"uk-modal-body\" data-uk-overflow-auto id=\"ticket-modal-body\"></div></div></div><script>\n\t\t\t\t// Global function definitions (safe to re-declare on script re-evaluation).\n\t\t\t\tfunction toggleDone(btn) {\n\t\t\t\t\tvar col = btn.closest('.st-column');\n\t\t\t\t\tcol.classList.toggle('st-column-collapsed');\n\t\t\t\t\tvar count = btn.getAttribute('data-count');\n\t\t\t\t\tif (col.classList.contains('st-column-collapsed')) {\n\t\t\t\t\t\tbtn.textContent = 'Show all (' + count + ')';\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbtn.textContent = 'Collapse';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tfunction updateScrollIndicators() {\n\t\t\t\t\tvar wrapper = document.querySelector('.st-board-wrapper');\n\t\t\t\t\tif (!wrapper) return;\n\t\t\t\t\tvar board = wrapper.querySelector('.st-board');\n\t\t\t\t\tif (!board) return;\n\t\t\t\t\tvar sl = board.scrollLeft > 0;\n\t\t\t\t\tvar sr = board.scrollLeft + board.clientWidth < board.scrollWidth - 1;\n\t\t\t\t\twrapper.classList.toggle('scroll-left', sl);\n\t\t\t\t\twrapper.classList.toggle('scroll-right', sr);\n\t\t\t\t}\n\n\t\t\t\t// Guard: register all event listeners exactly once.\n\t\t\t\tif (!window._stInitialized) {\n\t\t\t\twindow._stInitialized = true;\n\n\t\t\t\t// Pulse session dots on every SSE event.\n\t\t\t\tdocument.body.addEventListener('htmx:sseMessage', function() {\n\t\t\t\t\tdocument.querySelectorAll('.st-session-dot').forEach(function(dot) {\n\t\t\t\t\t\tdot.classList.remove('st-pulse');\n\t\t\t\t\t\tvoid dot.offsetWidth;\n\t\t\t\t\t\tdot.classList.add('st-pulse');\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tdocument.body.addEventListener('animationend', function(e) {\n\t\t\t\t\tif (e.target.classList.contains('st-session-dot')) {\n\t\t\t\t\t\te.target.classList.remove('st-pulse');\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tvar _ticketModalOpen = false;\n\t\t\t\tvar _modalClosingFromHistory = false;\n\t\t\t\tvar _modalHistoryPushed = false;\n\n\t\t\t\t// Close modal on form success (HX-Trigger: closeModal).\n\t\t\t\tdocument.body.addEventListener('closeModal', function() {\n\t\t\t\t\tUIkit.modal('#ticket-modal').hide();\n\t\t\t\t});\n\n\t\t\t\t// Click delegation: copy-to-clipboard and table row modal opens.\n\t\t\t\tdocument.addEventListener('click', function(e) {\n\t\t\t\t\tvar copyTarget = e.target.closest('[data-copy-ticket-id]');\n\t\t\t\t\tif (copyTarget) {\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\te.stopImmediatePropagation();\n\t\t\t\t\t\tvar ticketID = copyTarget.getAttribute('data-copy-ticket-id');\n\t\t\t\t\t\tif (!ticketID) return;\n\t\t\t\t\t\tfunction copiedNotice() {\n\t\t\t\t\t\t\tif (window.UIkit && UIkit.notification) {\n\t\t\t\t\t\t\t\tUIkit.notification({message: 'Copied ' + ticketID, status: 'primary', pos: 'bottom-right', timeout: 1200});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (navigator.clipboard && navigator.clipboard.writeText) {\n\t\t\t\t\t\t\tnavigator.clipboard.writeText(ticketID).then(copiedNotice);\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tvar area = document.createElement('textarea');\n\t\t\t\t\t\tarea.value = ticketID;\n\t\t\t\t\t\tarea.style.position = 'fixed';\n\t\t\t\t\t\tarea.style.opacity = '0';\n\t\t\t\t\t\tdocument.body.appendChild(area);\n\t\t\t\t\t\tarea.focus();\n\t\t\t\t\t\tarea.select();\n\t\t\t\t\t\ttry {\n\t\t\t\t\t\t\tdocument.execCommand('copy');\n\t\t\t\t\t\t\tcopiedNotice();\n\t\t\t\t\t\t} finally {\n\t\t\t\t\t\t\tdocument.body.removeChild(area);\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tvar row = e.target.closest('tr[data-href]');\n\t\t\t\t\tif (row && !e.target.closest('a')) {\n\t\t\t\t\t\tvar partial = row.dataset.partial;\n\t\t\t\t\t\tif (partial) {\n\t\t\t\t\t\t\thtmx.ajax('GET', partial, {target: '#ticket-modal-body', swap: 'innerHTML'});\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// Initial scroll indicator setup.\n\t\t\t\tdocument.addEventListener('DOMContentLoaded', function() {\n\t\t\t\t\tvar board = document.querySelector('.st-board');\n\t\t\t\t\tif (board) board.addEventListener('scroll', updateScrollIndicators);\n\t\t\t\t\tupdateScrollIndicators();\n\t\t\t\t});\n\n\t\t\t\t// Consolidated htmx:afterSwap handler.\n\t\t\t\tdocument.addEventListener('htmx:afterSwap', function(e) {\n\t\t\t\t\t// Re-bind scroll indicators when board is swapped in.\n\t\t\t\t\tvar board = document.querySelector('.st-board');\n\t\t\t\t\tif (board) board.addEventListener('scroll', updateScrollIndicators);\n\t\t\t\t\tupdateScrollIndicators();\n\n\t\t\t\t\t// Scroll to top on content navigation (not SSE refresh).\n\t\t\t\t\tif (e.detail.target && e.detail.target.id === 'content') {\n\t\t\t\t\t\tvar main = e.detail.target.closest('main');\n\t\t\t\t\t\tif (main) main.scrollTop = 0;\n\t\t\t\t\t}\n\n\t\t\t\t\t// Ticket modal management.\n\t\t\t\t\tif (e.detail.target && (e.detail.target.id === 'ticket-modal-body' || e.detail.target.closest('#ticket-modal-body'))) {\n\t\t\t\t\t\tvar url = e.detail.xhr ? e.detail.xhr.responseURL : '';\n\t\t\t\t\t\tvar isFormLoad = url.indexOf('/partials/form/') !== -1;\n\t\t\t\t\t\tvar match = url.match(/\\/ticket\\/(st_[A-Za-z0-9]+)/);\n\t\t\t\t\t\tvar id = match ? match[1] : '';\n\t\t\t\t\t\tif (_ticketModalOpen) {\n\t\t\t\t\t\t\t// Navigating within an already-open modal (e.g. dep link or edit).\n\t\t\t\t\t\t\tif (!isFormLoad && id) history.replaceState({ticketModal: true}, '', '/ticket/' + id);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tUIkit.modal('#ticket-modal').show();\n\t\t\t\t\t\t\t_ticketModalOpen = true;\n\t\t\t\t\t\t\tif (!isFormLoad && id) {\n\t\t\t\t\t\t\t\thistory.pushState({ticketModal: true}, '', '/ticket/' + id);\n\t\t\t\t\t\t\t\t_modalHistoryPushed = true;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// Update active nav link and page title on htmx navigation.\n\t\t\t\tdocument.addEventListener('htmx:pushedIntoHistory', function(e) {\n\t\t\t\t\tvar path = e.detail.path || window.location.pathname;\n\t\t\t\tdocument.querySelectorAll('.uk-subnav li').forEach(function(li) {\n\t\t\t\t\tvar a = li.querySelector('a[href]');\n\t\t\t\t\tif (!a) return;\n\t\t\t\t\tvar linkPath = new URL(a.href, window.location.origin).pathname;\n\t\t\t\t\tif (linkPath === path || (linkPath === '/' && path === '/')) {\n\t\t\t\t\t\tli.classList.add('uk-active');\n\t\t\t\t\t} else {\n\t\t\t\t\t\tli.classList.remove('uk-active');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t\tvar titleMap = {'/': 'Board', '/list': 'List', '/activity': 'Activity', '/critical-path': 'Critical Path'};\n\t\t\t\t\tvar title = titleMap[path];\n\t\t\t\t\tif (!title && path.startsWith('/ticket/')) {\n\t\t\t\t\t\tvar h1 = document.querySelector('#content h1');\n\t\t\t\t\t\ttitle = h1 ? h1.textContent.trim() : 'Ticket';\n\t\t\t\t\t}\n\t\t\t\t\tif (title) document.title = title + ' — smoovtask';\n\t\t\t\t});\n\n\t\t\t\t// Handle browser back/forward.\n\t\t\t\twindow.addEventListener('popstate', function() {\n\t\t\t\t\tvar modalEl = document.getElementById('ticket-modal');\n\t\t\t\t\tif (modalEl && _ticketModalOpen) {\n\t\t\t\t\t\t_modalClosingFromHistory = true;\n\t\t\t\t\t\tUIkit.modal(modalEl).hide();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t\tvar path = window.location.pathname;\n\t\t\t\t\tvar partialMap = {'/': '/partials/board', '/list': '/partials/list', '/activity': '/partials/activity', '/critical-path': '/partials/critical-path'};\n\t\t\t\t\tvar partial = partialMap[path];\n\t\t\t\t\tif (!partial && path.startsWith('/ticket/')) {\n\t\t\t\t\t\tpartial = '/partials' + path;\n\t\t\t\t\t}\n\t\t\t\t\tif (partial) {\n\t\t\t\t\t\tvar url = partial;\n\t\t\t\t\t\tif (window.location.search) url += window.location.search;\n\t\t\t\t\t\thtmx.ajax('GET', url, {target: '#content', swap: 'innerHTML'});\n\t\t\t\t\t\tdocument.querySelectorAll('.uk-subnav li').forEach(function(li) {\n\t\t\t\t\t\t\tvar a = li.querySelector('a[href]');\n\t\t\t\t\t\t\tif (!a) return;\n\t\t\t\t\t\t\tvar linkPath = new URL(a.href, window.location.origin).pathname;\n\t\t\t\t\t\t\tif (linkPath === path) {\n\t\t\t\t\t\t\t\tli.classList.add('uk-active');\n\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\tli.classList.remove('uk-active');\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\t// Modal hidden cleanup.\n\t\t\t\tUIkit.util.on('#ticket-modal', 'hidden', function() {\n\t\t\t\t\t_ticketModalOpen = false;\n\t\t\t\t\tif (!_modalClosingFromHistory && _modalHistoryPushed) {\n\t\t\t\t\t\thistory.back();\n\t\t\t\t\t}\n\t\t\t\t\t_modalClosingFromHistory = false;\n\t\t\t\t\t_modalHistoryPushed = false;\n\t\t\t\t\tdocument.getElementById('ticket-modal-header').innerHTML = '';\n\t\t\t\t\tdocument.getElementById('ticket-modal-body').innerHTML = '';\n\t\t\t\t});\n\t\t\t\t}\n\t\t\t</script></body></html>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

var _ = templruntime.GeneratedTemplate
